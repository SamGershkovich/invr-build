(function(){"use strict";var e={9931:function(e,t,s){var r=s(9242),o=(s(7658),s(7139)),a=s(6265),n=s.n(a);const i=n().create({baseURL:"https://invr-hieoa.ondigitalocean.app/api"});i.interceptors.request.use((e=>{const t=u.state.user.token;return t&&(e.headers.Authorization=`Bearer ${t}`),e}));var l=i;const d=(0,o.MT)({state:{user:{data:{},token:sessionStorage.getItem("TOKEN")},products:[],categories:[],sub_categories:[],country_of_origins:[],productIndex:0,showFilterModal:!1,showCountModal:!1,showShrinkModal:!1,comments:[],messages:[]},getters:{showFilterModal:e=>e.showFilterModal,showCountModal:e=>e.showCountModal,showShrinkModal:e=>e.showShrinkModal,productIndex:e=>e.productIndex,getUser:e=>e.user,products:e=>e.products,categories:e=>e.categories,sub_categories:e=>e.sub_categories,country_of_origins:e=>e.country_of_origins,comments:e=>e.comments,messages:e=>e.messages},mutations:{setMessages(e,t){e.messages=t},addMessage(e,t){e.messages.push(t)},setComments(e,t){e.comments=t},addComment(e,t){e.comments.push(t)},setCategories(e,t){e.categories=t.map((e=>({...e,selected:!1})))},setSubCategories(e,t){e.sub_categories=t.map((e=>({...e,selected:!1})))},setCountryOfOrigins(e,t){function s(e){return e.map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()))}e.country_of_origins=t.map((e=>({...e,name:s(e.name.split(" ")).join(" "),selected:!1})))},toggleCategory(e,t){e.categories[t].selected=!e.categories[t].selected},toggleSubCategory(e,t){e.sub_categories[t].selected=!e.sub_categories[t].selected},toggleCountry(e,t){e.country_of_origins[t].selected=!e.country_of_origins[t].selected},setShowFilterModal(e,t){e.showFilterModal=t},setShowCountModal(e,t){e.showCountModal=t},setShowShrinkModal(e,t){e.showShrinkModal=t},setProductIndex(e,t){e.productIndex=t},setProducts(e,t){e.products=t},setProduct(e,t){e.products[e.products.findIndex((e=>e.id==t.id))]=t},logout(e){e.user.data={},e.user.token=null,sessionStorage.removeItem("TOKEN")},setUser(e,t){t=t.data,e.user.token=t.token,e.user.data=t.user,sessionStorage.setItem("TOKEN",JSON.stringify(t.token)),sessionStorage.setItem("user_data",JSON.stringify(t.user))}},actions:{getMessages({commit:e}){l.get("/messages").then((t=>(e("setMessages",t.data.messages),t.data.messages)))},addMessage({commit:e,state:t},s){""!=s.content.trim()&&l.post("/addMessage",{user_id:t.user.data.id,content:s.content}).then((t=>{e("addMessage",t.data.messages[0])}))},getComments({commit:e,state:t}){0!=t.products.length&&l.get("/comments",{params:{inventory_id:t.products[t.productIndex].inventory_id}}).then((t=>(e("setComments",t.data.comments),t.data.comments)))},addComment({commit:e,state:t},s){l.post("/addComment",{user_id:t.user.data.id,product_id:t.products[t.productIndex].id,inventory_id:t.products[t.productIndex].inventory_id,content:s.content}).then((t=>{e("addComment",t.data.comments[0])}))},saveShrink({dispatch:e},t){return l.post("/shrink/update",t).then((s=>(e("searchProducts",{id:t.id}),s)))},saveInventory({dispatch:e},t){return l.post("/inventory/update",t).then((s=>(e("searchProducts",{id:t.id}),s)))},login({commit:e,dispatch:t},s){return l.post("/login",s).then((s=>(e("setUser",s),t("getMessages"),s)))},logout({commit:e}){return l.post("/logout").then((t=>(e("logout"),t)))},loadData({commit:e}){return l.get("/categories").then((t=>{e("setCategories",t.data.categories)})),l.get("/sub_categories").then((t=>{e("setSubCategories",t.data.sub_categories)})),l.get("/country_of_origins").then((t=>{e("setCountryOfOrigins",t.data.country_of_origins)})),!0},searchProducts({commit:e,state:t,dispatch:s},{query:r,id:o}){let a=[],n=[],i=[];t.categories.forEach((e=>{e.selected&&a.push(e.id)})),t.sub_categories.forEach((e=>{e.selected&&n.push(e.id)})),t.country_of_origins.forEach((e=>{e.selected&&i.push(e.id)})),o?l.get("/products",{params:{id:o,categories:JSON.stringify(a),sub_categories:JSON.stringify(n),country_of_origins:JSON.stringify(i)}}).then((t=>(e("setProduct",t.data.products[0]),s("getComments"),t.data.products[0]))):l.get("/products",{params:{query:r,categories:JSON.stringify(a),sub_categories:JSON.stringify(n),country_of_origins:JSON.stringify(i)}}).then((t=>(e("setProducts",t.data.products),s("getComments"),t.data.products)))}},modules:{}});var u=d,c=s(2483),p=s(3396);const m=(0,p._)("header",{class:"bg-white shadow"},[(0,p._)("div",{class:"mx-auto max-w-7xl py-6 px-4 sm:px-6 lg:px-8"},[(0,p._)("h1",{class:"text-3xl font-bold tracking-tight text-gray-900"}," Inventory ")])],-1),h={class:"h-full"},g={style:{height:"500px"},class:"mx-auto max-w-7xl py-6 lg:px-8 h-full"},f={class:"px-4 py-6 lg:grid lg:grid-cols-4 gap-5 h-full block relative"};function v(e,t,s,r,o,a){const n=(0,p.up)("CommentsContainer"),i=(0,p.up)("invrInventory"),l=(0,p.up)("MessagesContainer");return(0,p.wg)(),(0,p.iD)("div",null,[m,(0,p._)("main",h,[(0,p._)("div",g,[(0,p._)("div",f,[(0,p.Wm)(n),(0,p.Wm)(i,{class:"col-span-2"}),(0,p.Wm)(l)])])])])}var y=s(2268);const w={class:"border rounded shadow p-3 grid grid-rows-7 pb-20"},_={class:"grid grid-cols-4"},x={class:"relative mx-auto text-gray-600 col-span-2"},b={class:"w-full border-2 border-gray-300 bg-white h-full px-5 rounded-lg text-sm focus:outline-none",type:"search",name:"search",ref:"search",placeholder:"Search products"},k={key:0,class:"my-3"},C={key:1},I={key:0,style:{"justify-items":"center"},class:"row-span-5 grid grid-cols-7"},M={class:"col-span-5"},P={class:"inline-block text-xl font-bold"},D=(0,p._)("span",{class:"ml-3 rounded-full border border-black text-black w-5 h-5 inline-grid content-center cursor-pointer font-bold"},"i",-1),S={class:"text-sm mb-7"},$={class:"grid grid-flow-col grid-cols-2"},q=(0,p._)("span",null,"Front qty: ",-1),W={class:"text-xl font-bold"},F={class:"mt-2 grid grid-flow-col grid-cols-2"},z=(0,p._)("span",null,"Back qty: ",-1),O={class:"text-xl font-bold"},j={key:1,class:"row-span-5"};function T(e,t,s,r,o,a){const n=(0,p.up)("ArrowLeftCircleIcon"),i=(0,p.up)("ArrowRightCircleIcon"),l=(0,p.up)("FilterModal"),d=(0,p.up)("CountModal"),u=(0,p.up)("ShrinkModal");return(0,p.wg)(),(0,p.iD)("div",w,[(0,p._)("div",_,[(0,p._)("button",{onClick:t[0]||(t[0]=t=>e.$store.commit("setShowFilterModal",!0)),style:{width:"fit-content"},class:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-3 border border-gray-400 rounded shadow"}," Filters "),(0,p._)("div",x,[(0,p._)("input",b,null,512)]),(0,p._)("button",{onClick:t[1]||(t[1]=e=>a.search()),style:{width:"fit-content"},class:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-3 border border-gray-400 rounded shadow w-auto"}," Search ")]),(0,p._)("div",null,[a.products.length>0?((0,p.wg)(),(0,p.iD)("div",k,(0,y.zw)(o.productIndex+1+"/"+a.products.length),1)):((0,p.wg)(),(0,p.iD)("div",C,"No Products Found"))]),a.products.length>0?((0,p.wg)(),(0,p.iD)("div",I,[(0,p._)("div",{class:"cursor-pointer contents",onClick:t[2]||(t[2]=e=>a.prevProduct())},[(0,p.Wm)(n,{class:"w-10"})]),(0,p._)("div",M,[(0,p._)("div",null,[(0,p._)("span",P,(0,y.zw)(a.products[o.productIndex].name),1),D]),(0,p._)("div",S,(0,y.zw)(a.products[o.productIndex].category_name)+" → "+(0,y.zw)(a.products[o.productIndex].sub_category_name),1),(0,p._)("div",$,[q,(0,p._)("span",W,(0,y.zw)(a.products[o.productIndex].front_perpetual?"P":a.products[o.productIndex].front_quantity?a.products[o.productIndex].front_quantity:"-"),1)]),(0,p._)("div",F,[z,(0,p._)("span",O,(0,y.zw)(a.products[o.productIndex].back_perpetual?"P":a.products[o.productIndex].back_quantity?a.products[o.productIndex].back_quantity:"-"),1)]),(0,p._)("button",{onClick:t[3]||(t[3]=t=>e.$store.commit("setShowCountModal",!0)),style:{width:"fit-content"},class:"mt-10 bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-3 border border-gray-400 rounded shadow"}," Count "),(0,p._)("button",{onClick:t[4]||(t[4]=t=>e.$store.commit("setShowShrinkModal",!0)),style:{width:"fit-content"},class:"mt-10 bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-3 border border-gray-400 rounded shadow ml-5"}," Shrink ")]),(0,p._)("div",{class:"cursor-pointer contents",onClick:t[5]||(t[5]=e=>a.nextProduct())},[(0,p.Wm)(i,{class:"w-10"})])])):((0,p.wg)(),(0,p.iD)("div",j)),(0,p.Wm)(l),(0,p.Wm)(d),(0,p.Wm)(u)])}var N=s(3847),Z=s(9045);const U=(0,p._)("h3",null,"Filters",-1),B={class:"grid grid-cols-2 w-full gap-5"},E=(0,p._)("div",{class:"font-bold"},"Categories",-1),R={class:"overflow-y-auto h-25"},A=["onChange","checked"],Y=(0,p._)("div",{class:"font-bold"},"Sub Categories",-1),K={style:{"max-height":"500px"},class:"overflow-y-auto"},J=["onChange","checked"];function L(e,t,s,r,o,a){const n=(0,p.up)("Modal");return(0,p.wg)(),(0,p.j4)(n,{showModal:a.show,showSave:!1,onClose:t[0]||(t[0]=t=>e.$store.commit("setShowFilterModal",!1))},{title:(0,p.w5)((()=>[U])),default:(0,p.w5)((()=>[(0,p._)("div",B,[(0,p._)("div",null,[E,(0,p._)("div",R,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(a.categories,((e,t)=>((0,p.wg)(),(0,p.iD)("div",{key:"category-"+t},[(0,p._)("input",{onChange:e=>a.toggleCategory(t),type:"checkbox",checked:e.selected},null,40,A),(0,p.Uk)(" "+(0,y.zw)(e.name),1)])))),128))])]),(0,p._)("div",null,[Y,(0,p._)("div",K,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(a.sub_categories,((e,t)=>((0,p.wg)(),(0,p.iD)("div",{key:"sub-category-"+t},[(0,p._)("input",{onChange:e=>a.toggleSubCategory(t),type:"checkbox",checked:e.selected},null,40,J),(0,p.Uk)(" "+(0,y.zw)(e.name),1)])))),128))])])])])),_:1},8,["showModal"])}const H=(0,p._)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),V={class:"fixed inset-0 z-10 overflow-y-auto"},X={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Q={style:{"max-height":"80vh"},class:"overflow-y-auto bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},G={class:""},ee={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},te={class:"mt-2"},se={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"};function re(e,t,s,r,o,a){const n=(0,p.up)("TransitionChild"),i=(0,p.up)("DialogTitle"),l=(0,p.up)("DialogPanel"),d=(0,p.up)("Dialog"),u=(0,p.up)("TransitionRoot");return(0,p.wg)(),(0,p.j4)(u,{as:"template",show:s.showModal},{default:(0,p.w5)((()=>[(0,p.Wm)(d,{as:"div",class:"relative z-10",onClose:t[2]||(t[2]=t=>e.$emit("close"))},{default:(0,p.w5)((()=>[(0,p.Wm)(n,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,p.w5)((()=>[H])),_:1}),(0,p._)("div",V,[(0,p._)("div",X,[(0,p.Wm)(n,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,p.w5)((()=>[(0,p.Wm)(l,{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:(0,p.w5)((()=>[(0,p._)("div",Q,[(0,p._)("div",G,[(0,p._)("div",ee,[(0,p.Wm)(i,{as:"h3",class:"text-lg text-center font-medium leading-6 text-gray-900"},{default:(0,p.w5)((()=>[(0,p.WI)(e.$slots,"title")])),_:3}),(0,p._)("div",te,[(0,p.WI)(e.$slots,"default")])])])]),(0,p._)("div",se,[s.showSave?((0,p.wg)(),(0,p.iD)("button",{key:0,type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-blue-500 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-400 hover:border-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-600 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:t[0]||(t[0]=t=>e.$emit("save")),ref:"cancelButtonRef"},"Save",512)):(0,p.kq)("",!0),(0,p._)("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:t[1]||(t[1]=t=>e.$emit("close")),ref:"cancelButtonRef"},"Close",512)])])),_:3})])),_:3})])])])),_:3})])),_:3},8,["show"])}var oe=s(3119),ae=s(4680),ne={components:{Dialog:oe.Vq,DialogPanel:oe.EM,DialogTitle:oe.$N,TransitionChild:ae.x,TransitionRoot:ae.Q},props:{showModal:{type:Boolean,required:!0,default:!1},showSave:{type:Boolean,default:!0}},data(){return{}},computed:{}},ie=s(89);const le=(0,ie.Z)(ne,[["render",re]]);var de=le,ue={name:"FilterModal",components:{Modal:de},props:{},data(){return{}},mounted(){},computed:{show(){return this.$store.getters.showFilterModal},categories(){return this.$store.getters.categories},sub_categories(){return this.$store.getters.sub_categories},country_of_origins(){return this.$store.getters.country_of_origins}},methods:{toggleCategory(e){this.$store.commit("toggleCategory",e)},toggleSubCategory(e){this.$store.commit("toggleSubCategory",e)},toggleCountry(e){this.$store.commit("toggleCountry",e)}}};const ce=(0,ie.Z)(ue,[["render",L]]);var pe=ce;const me=(0,p._)("div",null,"Inventory for",-1),he={class:"w-full"},ge={class:"flex justify-between mb-5"},fe=(0,p._)("div",null,[(0,p._)("b",null,"Front Amount")],-1),ve=["checked"],ye=(0,p._)("div",null,"Front Cases",-1),we=["value"],_e=(0,p._)("div",null,"Front Partial",-1),xe=["value"],be=(0,p._)("br",null,null,-1),ke=(0,p._)("br",null,null,-1),Ce={class:"flex justify-between mb-5"},Ie=(0,p._)("div",null,[(0,p._)("b",null,"Back Amount")],-1),Me=["checked"],Pe=(0,p._)("div",null,"Back Cases",-1),De=["value"],Se=(0,p._)("div",null,"Back Partial",-1),$e=["value"];function qe(e,t,s,r,o,a){const n=(0,p.up)("Modal");return(0,p.wg)(),(0,p.j4)(n,{showModal:a.show,onSave:t[2]||(t[2]=e=>a.save(e)),onClose:t[3]||(t[3]=t=>e.$store.commit("setShowCountModal",!1))},{title:(0,p.w5)((()=>[me,(0,p._)("div",null,[(0,p._)("b",null,(0,y.zw)(a.products[a.productIndex].name),1)])])),default:(0,p.w5)((()=>[(0,p._)("div",he,[(0,p._)("div",null,[(0,p._)("div",ge,[fe,(0,p._)("label",null,[(0,p._)("input",{onClick:t[0]||(t[0]=e=>a.setFrontPerpetual()),ref:"front_perpetual",type:"checkbox",checked:a.frontPerpetual},null,8,ve),(0,p.Uk)(" Perpetual ")])]),(0,p._)("div",{class:(0,y.C_)(a.inputSectionClass)},[(0,p._)("div",{class:(0,y.C_)(a.inputContainerClass)},[ye,(0,p._)("input",{ref:"front_cases",type:"number",value:null!=a.frontCases?a.frontCases:"",placeholder:"Front cases",class:(0,y.C_)(a.frontInputClass)},null,10,we)],2),(0,p._)("div",{class:(0,y.C_)(a.inputContainerClass)},[_e,(0,p._)("input",{ref:"front_partial",type:"number",value:a.frontPartial?a.frontPartial:"",placeholder:"Front Partial",class:(0,y.C_)(a.frontInputClass)},null,10,xe)],2)],2),be,ke,(0,p._)("div",Ce,[Ie,(0,p._)("label",null,[(0,p._)("input",{onClick:t[1]||(t[1]=e=>a.setBackPerpetual()),ref:"back_perpetual",type:"checkbox",checked:a.backPerpetual},null,8,Me),(0,p.Uk)(" Perpetual ")])]),(0,p._)("div",{class:(0,y.C_)(a.inputSectionClass)},[(0,p._)("div",{class:(0,y.C_)(a.inputContainerClass)},[Pe,(0,p._)("input",{ref:"back_cases",type:"number",value:null!=a.backCases?a.backCases:"",placeholder:"Back cases",class:(0,y.C_)(a.backInputClass)},null,10,De)],2),(0,p._)("div",{class:(0,y.C_)(a.inputContainerClass)},[Se,(0,p._)("input",{ref:"back_partial",type:"number",value:a.backPartial?a.backPartial:"",placeholder:"Back partial",class:(0,y.C_)(a.backInputClass)},null,10,$e)],2)],2)])])])),_:1},8,["showModal"])}var We={name:"EditModal",components:{Modal:de},props:{},data(){return{frontP:void 0,backP:void 0}},mounted(){},computed:{frontInputClass(){return this.inputClass(this.frontPerpetual)},backInputClass(){return this.inputClass(this.backPerpetual)},inputSectionClass(){return{"max-w-full flex justify-between gap-3":!0}},inputContainerClass(){return{"max-w-[48%]":!0}},show(){return this.$store.getters.showCountModal},products(){return this.$store.getters.products},productIndex(){return this.$store.getters.productIndex},product(){return this.products[this.productIndex]},frontCases(){if(null!=this.products[this.productIndex].front_quantity)return Math.floor(this.products[this.productIndex].front_quantity)},frontPartial(){if(null!=this.products[this.productIndex].front_quantity){let e=(this.products[this.productIndex].front_quantity-this.frontCases)*(this.products[this.productIndex].weighted_product?1:this.products[this.productIndex].amount_in_case);return this.weightedProduct||(e=Math.round(e)),e}},frontPerpetual(){return void 0!==this.frontP?this.frontP:!!this.products[this.productIndex].front_perpetual},backCases(){if(null!=this.products[this.productIndex].back_quantity)return Math.floor(this.products[this.productIndex].back_quantity)},backPartial(){if(null!=this.products[this.productIndex].back_quantity){let e=(this.products[this.productIndex].back_quantity-this.backCases)*(this.products[this.productIndex].weighted_product?1:this.products[this.productIndex].amount_in_case);return this.weightedProduct||(e=Math.round(e)),e}},backPerpetual(){return void 0!==this.backP?this.backP:!!this.products[this.productIndex].back_perpetual},weightedProduct(){return this.products[this.productIndex].weighted_product},amountInCase(){return this.products[this.productIndex].amount_in_case}},methods:{setFrontPerpetual(){this.frontP=this.$refs.front_perpetual.checked},setBackPerpetual(){this.backP=this.$refs.back_perpetual.checked},inputClass(e){return{"max-w-full":!0,"border border-gray-300 text-gray-500 pointer-events-none":e}},validateInput(e,t,s){return void 0===e||(e<0?(alert("Please enter positive numbers only."),!1):t&&e.toString().includes(".")?(alert("Case amounts must be a whole number."),!1):!(this.weightedProduct&&s&&!e.toString().includes(".")&&e>0)||(alert("This is a weighted product, partial amounts must be a decimal."),!1))},save(){let e=this.$refs.front_cases.value?parseFloat(this.$refs.front_cases.value):void 0,t=this.$refs.back_cases.value?parseFloat(this.$refs.back_cases.value):void 0,s=this.$refs.front_partial.value?parseFloat(this.$refs.front_partial.value):void 0,r=this.$refs.back_partial.value?parseFloat(this.$refs.back_partial.value):void 0;if(!this.validateInput(e,!0,!1))return;if(!this.validateInput(t,!0,!1))return;if(!this.validateInput(s,!1,!0))return;if(!this.validateInput(r,!1,!0))return;this.$store.commit("setShowCountModal",!1),e&&(e=parseInt(e)),t&&(t=parseInt(t));let o=void 0==e&&void 0==s?null:0,a=void 0==t&&void 0==r?null:0;null!==o&&(e=e||0,s=s||0,o=e+s/(this.products[this.productIndex].weighted_product||s.toString().indexOf(".")>=0?1:this.products[this.productIndex].amount_in_case)),null!==a&&(t=t||0,r=r||0,a=t+r/(this.products[this.productIndex].weighted_product||r.toString().indexOf(".")>=0?1:this.products[this.productIndex].amount_in_case));let n={front_quantity:o,front_perpetual:this.$refs.front_perpetual.checked,back_quantity:a,back_perpetual:this.$refs.back_perpetual.checked};this.$store.dispatch("saveInventory",{...this.product,...n})}}};const Fe=(0,ie.Z)(We,[["render",qe]]);var ze=Fe;const Oe=(0,p._)("div",null,"Shrink for",-1),je={class:"w-full"},Te={class:"mt-10 text-center mb-10 flex justify-center gap-7"},Ne={class:"mt-12 text-xl"},Ze=(0,p._)("div",{class:"text-xs"},"total cases",-1),Ue={class:"text-2xl font-bold"},Be={class:"italic"},Ee={class:"mt-12 text-xl"},Re={class:"text-xs"},Ae={class:"mb-5"},Ye={class:"justify-center flex gap-5"},Ke=["placeholder"];function Je(e,t,s,r,o,a){const n=(0,p.up)("MinusCircleIcon"),i=(0,p.up)("PlusCircleIcon"),l=(0,p.up)("Modal");return(0,p.wg)(),(0,p.j4)(l,{showModal:a.show,onSave:t[2]||(t[2]=e=>a.save(e)),onClose:t[3]||(t[3]=t=>e.$store.commit("setShowShrinkModal",!1))},{title:(0,p.w5)((()=>[Oe,(0,p._)("div",null,[(0,p._)("b",null,(0,y.zw)(a.products[a.productIndex].name),1)])])),default:(0,p.w5)((()=>[(0,p._)("div",je,[(0,p._)("div",null,[(0,p._)("div",Te,[(0,p._)("div",null,[(0,p._)("div",Ne,(0,y.zw)(a.totalCases),1),Ze]),(0,p._)("div",null,[(0,p._)("span",Ue,(0,y.zw)(a.currentShrink),1),(0,p._)("span",Be,(0,y.zw)(this.weightedProduct?" (g)":""),1),(0,p._)("div",null,(0,y.zw)(a.weightedProduct?"weighed":"counted"),1)]),(0,p._)("div",null,[(0,p._)("div",Ee,(0,y.zw)(a.totalShrink),1),(0,p._)("div",Re,"total "+(0,y.zw)(a.weightedProduct?"weight (g)":"quantity"),1)])]),(0,p._)("div",Ae,[(0,p._)("div",Ye,[(0,p._)("div",{onClick:t[0]||(t[0]=e=>a.subtract())},[(0,p.Wm)(n,{class:"w-10 cursor-pointer rounded-full hover:text-gray-500"})]),(0,p._)("input",{ref:"calc_qty",type:"number",placeholder:a.calculatorPlaceholder,class:""},null,8,Ke),(0,p._)("div",{onClick:t[1]||(t[1]=e=>a.add())},[(0,p.Wm)(i,{class:"w-10 cursor-pointer rounded-full hover:text-gray-500"})])])])])])])),_:1},8,["showModal"])}var Le=s(6932),He=s(803),Ve={name:"ShrinkModal",components:{Modal:de,PlusCircleIcon:Le.Z,MinusCircleIcon:He.Z},props:{},data(){return{buttonClass:"bg-white hover:bg-gray-100 text-gray-800 font-bold text-lg py-2 px-3 border border-gray-400 rounded shadow",shrinkModified:0}},watch:{show:function(e){e&&(this.shrinkModified=0)}},computed:{currentShrink(){return this.toFixedIfNecessary(this.shrinkModified,4)},totalShrink(){let e=0;return null==this.product.shrink&&0==this.shrinkModified?"-":(e=parseFloat(this.shrinkModified)+parseFloat(null==this.product.shrink?0:this.product.shrink),this.toFixedIfNecessary(Math.max(e,0),4))},totalCases(){if(null==this.product.shrink&&0==this.shrinkModified)return"-";let e=this.weightedProduct?.453592*this.amountInCase*1e3:this.amountInCase;return this.toFixedIfNecessary(Math.max((parseFloat(this.shrinkModified)+parseFloat(null==this.product.shrink?0:this.product.shrink))/e,0),4)},calculatorPlaceholder(){return this.weightedProduct?"Enter weight (g)":"Enter quantity"},show(){return this.$store.getters.showShrinkModal},products(){return this.$store.getters.products},productIndex(){return this.$store.getters.productIndex},product(){return this.products[this.productIndex]},shrinkCases(){if(null!=this.products[this.productIndex].shrink_quantity)return Math.floor(this.products[this.productIndex].shrink_quantity)},shrinkPartial(){if(null!=this.products[this.productIndex].shrink_quantity){let e=(this.products[this.productIndex].shrink_quantity-this.shrinkCases)*(this.products[this.productIndex].weighted_product?1:this.products[this.productIndex].amount_in_case);return this.weightedProduct||(e=Math.round(e)),e}},weightedProduct(){return this.products[this.productIndex].weighted_product},amountInCase(){return this.products[this.productIndex].amount_in_case}},methods:{toFixedIfNecessary(e,t){return+parseFloat(e).toFixed(t)},add(){""!=this.$refs.calc_qty.value&&(this.shrinkModified+=parseFloat(this.$refs.calc_qty.value))},subtract(){""!=this.$refs.calc_qty.value&&(this.shrinkModified-=parseFloat(this.$refs.calc_qty.value))},save(){this.$store.commit("setShowShrinkModal",!1),this.$store.dispatch("saveShrink",{...this.product,shrink:isNaN(this.totalShrink)?null:this.totalShrink})}}};const Xe=(0,ie.Z)(Ve,[["render",Je]]);var Qe=Xe,Ge={name:"invrInventory",components:{ArrowLeftCircleIcon:N.Z,ArrowRightCircleIcon:Z.Z,FilterModal:pe,CountModal:ze,ShrinkModal:Qe},props:{},data(){return{productIndex:0}},async mounted(){await this.$store.dispatch("loadData"),await this.$store.dispatch("searchProducts",{query:""})},computed:{products(){return this.$store.getters.products?this.$store.getters.products:[]}},methods:{nextProduct(){this.productIndex++,this.productIndex>this.products.length-1&&(this.productIndex=0),this.setProductIndex(this.productIndex)},prevProduct(){this.productIndex--,this.productIndex<0&&(this.productIndex=this.products.length-1),this.setProductIndex(this.productIndex)},setProductIndex(e){this.$store.commit("setProductIndex",e),this.$store.dispatch("getComments")},search(){this.productIndex=0,this.setProductIndex(0),this.$store.dispatch("searchProducts",{query:this.$refs.search.value})}}};const et=(0,ie.Z)(Ge,[["render",T]]);var tt=et;function st(e,t,s,r,o,a){const n=(0,p.up)("Comments"),i=(0,p.up)("CommentsPopOut");return(0,p.wg)(),(0,p.iD)("div",null,[(0,p.Wm)(n),(0,p.Wm)(i)])}const rt={class:"lg:hidden block"},ot=(0,p._)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),at={class:"fixed inset-0 overflow-hidden"},nt={class:"absolute inset-0 overflow-hidden"},it={class:"pointer-events-none fixed inset-y-0 left-0 flex max-w-full pr-10"},lt={class:"absolute top-0 right-0 -mr-8 flex pt-4 pl-2 sm:-mr-10 sm:pl-4"},dt=(0,p._)("span",{class:"sr-only"},"Close panel",-1),ut={class:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl"},ct={class:"px-4 sm:px-6"},pt={key:0},mt={key:0,class:"relative mt-6 flex-1 px-4 sm:px-6"},ht={class:"absolute inset-0 px-4 sm:px-6"},gt={class:"overflow-y-auto relative bg-gray-100 border rounded shadow h-full p-3 pb-0 flex flex-col gap-3"},ft={class:"bg-gray-100 w-full bottom-0 sticky mt-5 py-3"},vt={ref:"comment",class:"w-full"};function yt(e,t,s,r,o,a){const n=(0,p.up)("TransitionChild"),i=(0,p.up)("XMarkIcon"),l=(0,p.up)("DialogTitle"),d=(0,p.up)("Comment"),u=(0,p.up)("DialogPanel"),c=(0,p.up)("Dialog"),m=(0,p.up)("TransitionRoot");return(0,p.wg)(),(0,p.iD)("div",rt,[(0,p.Wm)(m,{as:"template",show:a.open},{default:(0,p.w5)((()=>[(0,p.Wm)(c,{as:"div",class:"relative z-10",onClose:t[2]||(t[2]=e=>a.open=!1)},{default:(0,p.w5)((()=>[(0,p.Wm)(n,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,p.w5)((()=>[ot])),_:1}),(0,p._)("div",at,[(0,p._)("div",nt,[(0,p._)("div",it,[(0,p.Wm)(n,{as:"template",enter:"transform transition ease-in-out duration-500","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:(0,p.w5)((()=>[(0,p.Wm)(u,{class:"pointer-events-auto relative w-screen max-w-md"},{default:(0,p.w5)((()=>[(0,p.Wm)(n,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,p.w5)((()=>[(0,p._)("div",lt,[(0,p._)("button",{type:"button",class:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:t[0]||(t[0]=e=>a.open=!1)},[dt,(0,p.Wm)(i,{class:"h-6 w-6","aria-hidden":"true"})])])])),_:1}),(0,p._)("div",ut,[(0,p._)("div",ct,[(0,p.Wm)(l,{class:"text-lg font-medium text-gray-900"},{default:(0,p.w5)((()=>[(0,p.Uk)("Comments")])),_:1}),a.products.length>0?((0,p.wg)(),(0,p.iD)("div",pt,(0,y.zw)(a.products[a.productIndex].name),1)):(0,p.kq)("",!0)]),a.products.length>0?((0,p.wg)(),(0,p.iD)("div",mt,[(0,p._)("div",ht,[(0,p._)("div",gt,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(a.comments,((e,t)=>((0,p.wg)(),(0,p.j4)(d,{key:t,data:e},null,8,["data"])))),128)),(0,p._)("div",ft,[(0,p._)("textarea",vt,null,512),(0,p._)("button",{onClick:t[1]||(t[1]=e=>a.addComment()),class:"block ml-auto bg-blue-500 hover:bg-blue-400 text-white rounded px-3 py-1"},"Add Comment")])])])])):(0,p.kq)("",!0)])])),_:1})])),_:1})])])])])),_:1})])),_:1},8,["show"]),(0,p.Wm)(m,{as:"template",show:!a.open},{default:(0,p.w5)((()=>[(0,p.Wm)(n,{as:"template",enter:"transform transition ease-in-out duration-700","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 ","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:(0,p.w5)((()=>[(0,p._)("div",{style:{"border-left":"none","border-top-left-radius":"0","border-bottom-left-radius":"0"},class:"px-2 py-1 rounded absolute left-0 -top-20 border shadow bg-white cursor-pointer",onClick:t[3]||(t[3]=e=>{a.open=!0})}," Comments ►")])),_:1})])),_:1},8,["show"])])}var wt=s(2758);const _t={class:"bg-white rounded border w-full text-left"},xt={class:"border-b p-2 flex flex-wrap justify-between"},bt={class:"italic text-sm text-gray-500"},kt={class:"p-2"};function Ct(e,t,s,r,o,a){return(0,p.wg)(),(0,p.iD)("div",_t,[(0,p._)("div",xt,[(0,p._)("div",null,(0,y.zw)(s.data.user_name),1),(0,p._)("div",bt,(0,y.zw)(s.data.time),1)]),(0,p._)("div",kt,(0,y.zw)(s.data.content),1)])}var It={name:"invrComment",components:{},props:{data:{type:Object,required:!0}},data(){return{}},mounted(){},computed:{},methods:{}};const Mt=(0,ie.Z)(It,[["render",Ct]]);var Pt=Mt,Dt={components:{Dialog:oe.Vq,DialogPanel:oe.EM,DialogTitle:oe.$N,TransitionChild:ae.x,TransitionRoot:ae.Q,XMarkIcon:wt.Z,Comment:Pt},data(){return{openPopout:!1}},methods:{addComment(){this.$store.dispatch("addComment",{content:this.$refs.comment.value}),this.$refs.comment.value=""}},computed:{products(){return this.$store.getters.products},productIndex(){return this.$store.getters.productIndex},comments(){return this.$store.getters.comments},open:{set(e){this.openPopout=e},get(){return this.openPopout}}}};const St=(0,ie.Z)(Dt,[["render",yt]]);var $t=St;const qt={class:"overflow-hidden bg-gray-100 lg:block hidden border rounded shadow h-full p-3 pb-0 relative"},Wt=(0,p._)("h2",null,"Comments",-1),Ft={key:0},zt={key:0,style:{"max-height":"500px"},class:"overflow-y-auto relative bg-gray-100 h-full p-3 pb-0 flex flex-col gap-3"},Ot={class:"bg-gray-100 w-full bottom-0 sticky mt-5 py-3"},jt={ref:"comment",class:"w-full"};function Tt(e,t,s,r,o,a){const n=(0,p.up)("Comment");return(0,p.wg)(),(0,p.iD)("div",qt,[(0,p._)("div",null,[Wt,a.products.length>0?((0,p.wg)(),(0,p.iD)("div",Ft,[(0,p._)("b",null,(0,y.zw)(a.products[a.productIndex].name),1)])):(0,p.kq)("",!0)]),a.products.length>0?((0,p.wg)(),(0,p.iD)("div",zt,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(a.comments,((e,t)=>((0,p.wg)(),(0,p.j4)(n,{key:t,data:e},null,8,["data"])))),128)),(0,p._)("div",Ot,[(0,p._)("textarea",jt,null,512),(0,p._)("button",{onClick:t[0]||(t[0]=e=>a.addComment()),class:"block ml-auto bg-blue-500 hover:bg-blue-400 text-white rounded px-3 py-1"},"Add Comment")])])):(0,p.kq)("",!0)])}var Nt={name:"invrComments",components:{Comment:Pt},props:{},data(){return{}},mounted(){},computed:{products(){return this.$store.getters.products},productIndex(){return this.$store.getters.productIndex},comments(){return this.$store.getters.comments}},methods:{addComment(){this.$store.dispatch("addComment",{content:this.$refs.comment.value}),this.$refs.comment.value=""}}};const Zt=(0,ie.Z)(Nt,[["render",Tt]]);var Ut=Zt,Bt={name:"CommentsContainer",components:{CommentsPopOut:$t,Comments:Ut},props:{},data(){return{}},mounted(){},computed:{popOutMode(){return this.popOut}},methods:{}};const Et=(0,ie.Z)(Bt,[["render",st]]);var Rt=Et;const At={class:""};function Yt(e,t,s,r,o,a){const n=(0,p.up)("Messages"),i=(0,p.up)("MessagesPopOut");return(0,p.wg)(),(0,p.iD)("div",At,[(0,p.Wm)(n,{class:"lg:block hidden"}),(0,p.Wm)(i,{class:"lg:hidden block"})])}const Kt=(0,p._)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Jt={class:"fixed inset-0 overflow-hidden"},Lt={class:"absolute inset-0 overflow-hidden"},Ht={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10"},Vt={class:"absolute top-0 left-0 -ml-8 flex pt-4 pr-2 sm:-ml-10 sm:pr-4"},Xt=(0,p._)("span",{class:"sr-only"},"Close panel",-1),Qt={class:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl"},Gt={class:"px-4 sm:px-6"},es={class:"relative mt-6 flex-1 px-4 sm:px-6"},ts={class:"absolute inset-0 px-4 sm:px-6"},ss={class:"overflow-y-auto relative bg-gray-100 border rounded shadow h-full p-3 pb-0 flex flex-col gap-3"},rs={class:"bg-gray-100 w-full bottom-0 sticky mt-5 py-3"},os={ref:"message",class:"w-full"};function as(e,t,s,r,o,a){const n=(0,p.up)("TransitionChild"),i=(0,p.up)("XMarkIcon"),l=(0,p.up)("DialogTitle"),d=(0,p.up)("invrMessage"),u=(0,p.up)("DialogPanel"),c=(0,p.up)("Dialog"),m=(0,p.up)("TransitionRoot");return(0,p.wg)(),(0,p.iD)("div",null,[(0,p.Wm)(m,{as:"template",show:a.open},{default:(0,p.w5)((()=>[(0,p.Wm)(c,{as:"div",class:"relative z-10",onClose:t[2]||(t[2]=e=>a.open=!1)},{default:(0,p.w5)((()=>[(0,p.Wm)(n,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,p.w5)((()=>[Kt])),_:1}),(0,p._)("div",Jt,[(0,p._)("div",Lt,[(0,p._)("div",Ht,[(0,p.Wm)(n,{as:"template",enter:"transform transition ease-in-out duration-500","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,p.w5)((()=>[(0,p.Wm)(u,{class:"pointer-events-auto relative w-screen max-w-md"},{default:(0,p.w5)((()=>[(0,p.Wm)(n,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,p.w5)((()=>[(0,p._)("div",Vt,[(0,p._)("button",{type:"button",class:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:t[0]||(t[0]=e=>a.open=!1)},[Xt,(0,p.Wm)(i,{class:"h-6 w-6","aria-hidden":"true"})])])])),_:1}),(0,p._)("div",Qt,[(0,p._)("div",Gt,[(0,p.Wm)(l,{class:"text-lg font-medium text-gray-900"},{default:(0,p.w5)((()=>[(0,p.Uk)("Messages")])),_:1})]),(0,p._)("div",es,[(0,p._)("div",ts,[(0,p._)("div",ss,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(a.messages,((e,t)=>((0,p.wg)(),(0,p.j4)(d,{key:t,data:e},null,8,["data"])))),128)),(0,p._)("div",rs,[(0,p._)("textarea",os,null,512),(0,p._)("button",{onClick:t[1]||(t[1]=e=>a.addMessage()),class:"block ml-auto bg-blue-500 hover:bg-blue-400 text-white rounded px-3 py-1"},"Send Message")])])])])])])),_:1})])),_:1})])])])])),_:1})])),_:1},8,["show"]),(0,p.Wm)(m,{as:"template",show:!a.open},{default:(0,p.w5)((()=>[(0,p.Wm)(n,{as:"template",enter:"transform transition ease-in-out duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,p.w5)((()=>[(0,p._)("div",{style:{"border-right":"none","border-top-right-radius":"0","border-bottom-right-radius":"0"},class:"px-2 py-1 rounded absolute right-0 -top-20 border shadow bg-white cursor-pointer",onClick:t[3]||(t[3]=e=>{a.open=!0})}," ◄ Messages")])),_:1})])),_:1},8,["show"])])}const ns={key:0,class:"border-b p-2 flex flex-wrap justify-between"},is={class:"p-2"},ls={class:"italic text-sm text-gray-500 text-right"};function ds(e,t,s,r,o,a){return(0,p.wg)(),(0,p.iD)("div",{style:(0,y.j5)([{width:"75%"},{"align-self":s.data.user_id!=a.user_id?"":"end"}]),class:(0,y.C_)(["rounded border text-left",{"bg-white":s.data.user_id!=a.user_id,"bg-blue-100":s.data.user_id==a.user_id}])},[s.data.user_id!=a.user_id?((0,p.wg)(),(0,p.iD)("div",ns,[(0,p._)("div",null,(0,y.zw)(s.data.user_name),1),s.data.role_id<4?((0,p.wg)(),(0,p.iD)("div",{key:0,class:(0,y.C_)(a.roleClass)},(0,y.zw)(s.data.role),3)):(0,p.kq)("",!0)])):(0,p.kq)("",!0),(0,p._)("div",is,[(0,p.Uk)((0,y.zw)(s.data.content)+" ",1),(0,p._)("div",ls,(0,y.zw)(s.data.time),1)])],6)}var us={name:"invrMessage",components:{},props:{data:{type:Object,required:!0}},data(){return{}},mounted(){},computed:{user_id(){return this.$store.state.user.data.id},roleClass(){switch(this.data.role){case"Manager":return"text-purple-500";case"Assitant Manager":return"text-blue-500";case"Supervisor":return"text-green-500";default:return"text-gray-500"}}},methods:{}};const cs=(0,ie.Z)(us,[["render",ds]]);var ps=cs,ms={components:{Dialog:oe.Vq,DialogPanel:oe.EM,DialogTitle:oe.$N,TransitionChild:ae.x,TransitionRoot:ae.Q,XMarkIcon:wt.Z,invrMessage:ps},data(){return{openPopout:!1}},methods:{addMessage(){this.$store.dispatch("addMessage",{content:this.$refs.message.value}),this.$refs.message.value=""}},computed:{messages(){return this.$store.getters.messages},open:{set(e){this.openPopout=e},get(){return this.openPopout}}}};const hs=(0,ie.Z)(ms,[["render",as]]);var gs=hs;const fs={class:"overflow-hidden bg-gray-100 lg:block hidden border rounded shadow h-full p-3 pb-0 relative"},vs=(0,p._)("div",null,[(0,p._)("h2",null,"Messages")],-1),ys={style:{"max-height":"500px"},class:"overflow-y-auto relative bg-gray-100 h-full p-3 pb-0 flex flex-col gap-3"},ws={class:"bg-gray-100 w-full bottom-0 sticky mt-5 py-3"},_s={ref:"message",class:"w-full"};function xs(e,t,s,r,o,a){const n=(0,p.up)("Message");return(0,p.wg)(),(0,p.iD)("div",fs,[vs,(0,p._)("div",ys,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(a.messages,((e,t)=>((0,p.wg)(),(0,p.j4)(n,{key:t,data:e},null,8,["data"])))),128)),(0,p._)("div",ws,[(0,p._)("textarea",_s,null,512),(0,p._)("button",{onClick:t[0]||(t[0]=e=>a.addMessage()),class:"block ml-auto bg-blue-500 hover:bg-blue-400 text-white rounded px-3 py-1"},"Send Message")])])])}var bs={name:"invrMessages",components:{Message:ps},props:{},data(){return{}},mounted(){},computed:{messages(){return this.$store.getters.messages}},methods:{addMessage(){this.$store.dispatch("addMessage",{content:this.$refs.message.value}),this.$refs.message.value=""}}};const ks=(0,ie.Z)(bs,[["render",xs]]);var Cs=ks,Is={name:"MessagesContainer",components:{MessagesPopOut:gs,Messages:Cs},props:{},data(){return{}},mounted(){},computed:{popOutMode(){return this.popOut}},methods:{}};const Ms=(0,ie.Z)(Is,[["render",Yt]]);var Ps=Ms,Ds={components:{invrInventory:tt,CommentsContainer:Rt,MessagesContainer:Ps},computed:{user(){return{name:"Tom Cook",email:"tom@example.com",imageUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"}},navigation(){return[{name:"Dashboard",href:"#",current:!0},{name:"Team",href:"#",current:!1},{name:"Projects",href:"#",current:!1},{name:"Calendar",href:"#",current:!1}]},userNavigation(){return[{name:"Your Profile",href:"#"},{name:"Settings",href:"#"},{name:"Sign out",href:"#"}]}}};const Ss=(0,ie.Z)(Ds,[["render",v]]);var $s=Ss;const qs=(0,p._)("header",{class:"bg-white shadow"},[(0,p._)("div",{class:"mx-auto max-w-7xl py-6 px-4 sm:px-6 lg:px-8"},[(0,p._)("h1",{class:"text-3xl font-bold tracking-tight text-gray-900"}," Reports ")])],-1),Ws={class:"h-full"},Fs={style:{height:"500px"},class:"relative mx-auto max-w-7xl py-6 lg:px-8 h-full"},zs={class:"px-4 py-6 lg:grid lg:grid-cols-3 gap-5 h-full block relative"},Os={class:"col-span-2"},js={class:"grid grid-flow-row lg:grid-flow-col lg:grid-cols-3 md:grid-flow-col md:grid-cols-3 grid-cols-2 gap-5 items-end m-auto",style:{"max-width":"800px"}},Ts={class:"text-left"},Ns=(0,p._)("div",null,"Select Date",-1),Zs={class:"text-left"},Us=(0,p._)("div",null,"Select Report Type",-1),Bs=["value","selected"],Es={class:"col-span-2"},Rs={style:{height:"fit-content","max-height":"460px"},class:"mt-3 w-full border overflow-y-auto"},As={class:"sticky top-0 grid grid-flow-col grid-cols-6 bg-gray-200 font-bold"},Ys=(0,p._)("div",{class:"border h-min py-3"},"Category",-1),Ks=(0,p._)("div",{class:"border h-min py-3"},"Sub Category",-1),Js=(0,p._)("div",{class:"border h-min py-3 col-span-2"},"Product",-1),Ls={key:0,class:"border h-min py-3"},Hs={key:1,class:"border h-min py-3"},Vs={key:2,class:"border h-min py-3"},Xs={key:3,class:"border h-min py-3"},Qs={class:"grid"},Gs={class:"border px-1"},er={class:"border px-1"},tr={class:"border col-span-2 text-left px-1"},sr={key:0,class:"border px-1"},rr={key:1,class:"border px-1"},or={key:2,class:"border px-1 text-center"},ar={key:3,class:"border px-1 text-center"};function nr(e,t,s,o,a,n){const i=(0,p.up)("MessagesContainer");return(0,p.wg)(),(0,p.iD)("div",null,[qs,(0,p._)("main",Ws,[(0,p._)("div",Fs,[(0,p._)("div",zs,[(0,p._)("div",Os,[(0,p._)("div",js,[(0,p._)("div",Ts,[Ns,(0,p.wy)((0,p._)("input",{class:"w-full",type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>a.dateInput=e)},null,512),[[r.nr,a.dateInput]])]),(0,p._)("div",Zs,[Us,(0,p.wy)((0,p._)("select",{class:"w-full","onUpdate:modelValue":t[1]||(t[1]=e=>a.typeInput=e)},[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(n.reportOptions,((e,t)=>((0,p.wg)(),(0,p.iD)("option",{key:t,value:e.value,selected:e.selected},(0,y.zw)(e.name),9,Bs)))),128))],512),[[r.bM,a.typeInput]])]),(0,p._)("div",Es,[(0,p._)("button",{onClick:t[2]||(t[2]=e=>n.generateReport()),style:{height:"fit-content"},class:"block bg-blue-500 hover:bg-blue-400 text-white rounded w-full px-3 py-1"},"Generate Report")])]),(0,p._)("div",Rs,[(0,p._)("div",As,[Ys,Ks,Js,"inventory"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",Ls,"Front")):(0,p.kq)("",!0),"inventory"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",Hs,"Back")):(0,p.kq)("",!0),"shrink"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",Vs,"Weight/Qty")):(0,p.kq)("",!0),"shrink"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",Xs,"Cases")):(0,p.kq)("",!0)]),(0,p._)("div",Qs,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(n.reportData,(e=>((0,p.wg)(),(0,p.iD)("div",{key:e.id,class:"grid grid-flow-col grid-cols-6 text-left"},[(0,p._)("div",Gs,(0,y.zw)(e.category),1),(0,p._)("div",er,(0,y.zw)(e.sub_category),1),(0,p._)("div",tr,(0,y.zw)(e.name),1),"inventory"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",sr,(0,y.zw)(n.frontAmount(e)),1)):(0,p.kq)("",!0),"inventory"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",rr,(0,y.zw)(n.backAmount(e)),1)):(0,p.kq)("",!0),"shrink"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",or,(0,y.zw)(n.shrinkWeight(e)),1)):(0,p.kq)("",!0),"shrink"==a.typeInput?((0,p.wg)(),(0,p.iD)("div",ar,(0,y.zw)(n.shrinkCases(e)),1)):(0,p.kq)("",!0)])))),128))])])]),(0,p.Wm)(i)])])])])}var ir={components:{MessagesContainer:Ps},data(){return{dateInput:"",typeInput:"",report_data:[]}},computed:{reportOptions(){return[{name:"-- Select Type --",value:"",selected:"true"},{name:"Inventory",value:"inventory",selected:"false"},{name:"Shrink",value:"shrink",selected:"false"}]},reportData(){return this.report_data}},methods:{async generateReport(){""!=this.dateInput?""!=this.typeInput?await l.post("/reports",{date:this.dateInput,type:this.typeInput}).then((e=>{this.report_data=e.data.report})):alert("Please select a report type."):alert("Please select a date.")},frontAmount(e){return 1==e.front_perpetual?"P":null==e.front_quantity?"":e.front_quantity},backAmount(e){return 1==e.back_perpetual?"P":null==e.back_quantity?"":e.back_quantity},shrinkCases(e){let t=e.weighted_product?.453592*e.amount_in_case*1e3:e.amount_in_case;return this.toFixedIfNecessary(Math.max(parseFloat(e.quantity)/t,0),4)},shrinkWeight(e){return this.toFixedIfNecessary(Math.max(parseFloat(e.quantity),0),4)+(e.weighted_product?"g":"")},toFixedIfNecessary(e,t){return+parseFloat(e).toFixed(t)}}};const lr=(0,ie.Z)(ir,[["render",nr]]);var dr=lr,ur=s(4870),cr=s(1873);const pr=(0,p._)("div",null,[(0,p._)("img",{class:"mx-auto h-12 w-auto",src:"/logistics.png",alt:"Your Company"}),(0,p._)("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900"}," Log in to your department ")],-1),mr=(0,p._)("input",{type:"hidden",name:"remember",value:"true"},null,-1),hr={class:"-space-y-px rounded-md shadow-sm"},gr=(0,p._)("label",{for:"employee-number",class:"sr-only"},"Employee number",-1),fr=(0,p._)("label",{for:"password",class:"sr-only"},"Password",-1),vr={class:"flex items-center justify-between"},yr={class:"flex items-center"},wr=(0,p._)("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"},"Remember me",-1),_r=(0,p._)("div",{class:"text-sm"},[(0,p._)("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"},"Forgot your password?")],-1),xr={type:"submit",class:"group relative flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},br={class:"absolute inset-y-0 left-0 flex items-center pl-3"};var kr={__name:"invrLogin",setup(e){const t={employee_number:void 0,password:"",remember:!1};function s(e){e.preventDefault(),u.dispatch("login",t).then((()=>{no.push({name:"Dashboard"})}))}return(e,o)=>((0,p.wg)(),(0,p.iD)("div",null,[pr,(0,p._)("form",{class:"mt-8 space-y-6",onSubmit:s},[mr,(0,p._)("div",hr,[(0,p._)("div",null,[gr,(0,p.wy)((0,p._)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.employee_number=e),id:"employee-number",name:"employee_number",type:"number",required:"",class:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Employee number"},null,512),[[r.nr,t.employee_number]])]),(0,p._)("div",null,[fr,(0,p.wy)((0,p._)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>t.password=e),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",placeholder:"Password"},null,512),[[r.nr,t.password]])])]),(0,p._)("div",vr,[(0,p._)("div",yr,[(0,p.wy)((0,p._)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>t.remember=e),id:"remember-me",name:"remember-me",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[r.e8,t.remember]]),wr]),_r]),(0,p._)("div",null,[(0,p._)("button",xr,[(0,p._)("span",br,[(0,p.Wm)((0,ur.SU)(cr.Z),{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),(0,p.Uk)(" Log in ")])])],32)]))}};const Cr=kr;var Ir=Cr;const Mr={class:"min-h-full"},Pr={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Dr={class:"flex h-16 items-center justify-between"},Sr={class:"flex items-center"},$r=(0,p._)("div",{class:"flex-shrink-0"},[(0,p._)("img",{class:"h-8 w-8",src:"/logistics.png",alt:"Your Company"})],-1),qr={class:"hidden md:block"},Wr={class:"ml-10 flex items-baseline space-x-4"},Fr=["href","aria-current"],zr={class:"hidden md:block"},Or={class:"ml-4 flex items-center md:ml-6"},jr={class:"-mr-2 flex md:hidden"},Tr=(0,p._)("span",{class:"sr-only"},"Open main menu",-1),Nr={class:"space-y-1 px-2 pt-2 pb-3 sm:px-3"},Zr={class:"border-t border-gray-700 pt-4 pb-3"},Ur={class:"flex items-center px-5"},Br={class:"ml-3"},Er={class:"text-base font-medium leading-none text-white"},Rr={class:"text-sm font-medium leading-none text-gray-400"},Ar={class:"mt-3 space-y-1 px-2"};function Yr(e,t,s,o,a,n){const i=(0,p.up)("MenuButton"),l=(0,p.up)("MenuItem"),d=(0,p.up)("MenuItems"),u=(0,p.up)("Menu"),c=(0,p.up)("Bars3Icon"),m=(0,p.up)("XMarkIcon"),h=(0,p.up)("DisclosureButton"),g=(0,p.up)("DisclosurePanel"),f=(0,p.up)("Disclosure"),v=(0,p.up)("router-view");return(0,p.wg)(),(0,p.iD)("div",Mr,[(0,p.Wm)(f,{as:"nav",class:"bg-gray-800"},{default:(0,p.w5)((({open:e})=>[(0,p._)("div",Pr,[(0,p._)("div",Dr,[(0,p._)("div",Sr,[$r,(0,p._)("div",qr,[(0,p._)("div",Wr,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(n.navigation,(e=>((0,p.wg)(),(0,p.iD)("a",{key:e.name,href:e.href,class:(0,y.C_)([e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","px-3 py-2 rounded-md text-sm font-medium"]),"aria-current":e.current?"page":void 0},(0,y.zw)(e.name),11,Fr)))),128))])])]),(0,p._)("div",zr,[(0,p._)("div",Or,[(0,p.Wm)(u,{as:"div",class:"relative ml-3"},{default:(0,p.w5)((()=>[(0,p._)("div",null,[(0,p.Wm)(i,{class:"flex max-w-xs items-center rounded-full bg-gray-800 text-sm text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},{default:(0,p.w5)((()=>[(0,p.Uk)((0,y.zw)(n.user.name),1)])),_:1})]),(0,p.Wm)(r.uT,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:(0,p.w5)((()=>[(0,p.Wm)(d,{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:(0,p.w5)((()=>[(0,p.Wm)(l,null,{default:(0,p.w5)((({active:e})=>[(0,p._)("a",{href:"#",class:(0,y.C_)([e?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," Your Profile ",2)])),_:1}),(0,p.Wm)(l,null,{default:(0,p.w5)((({active:e})=>[(0,p._)("a",{href:"#",class:(0,y.C_)([e?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," Settings ",2)])),_:1}),(0,p.Wm)(l,{onClick:n.logout},{default:(0,p.w5)((({active:e})=>[(0,p._)("a",{href:"#",class:(0,y.C_)([e?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," Log out ",2)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])]),(0,p._)("div",jr,[(0,p.Wm)(h,{class:"inline-flex items-center justify-center rounded-md bg-gray-800 p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},{default:(0,p.w5)((()=>[Tr,e?((0,p.wg)(),(0,p.j4)(m,{key:1,class:"block h-6 w-6","aria-hidden":"true"})):((0,p.wg)(),(0,p.j4)(c,{key:0,class:"block h-6 w-6","aria-hidden":"true"}))])),_:2},1024)])])]),(0,p.Wm)(g,{class:"md:hidden"},{default:(0,p.w5)((()=>[(0,p._)("div",Nr,[((0,p.wg)(!0),(0,p.iD)(p.HY,null,(0,p.Ko)(n.navigation,(e=>((0,p.wg)(),(0,p.j4)(h,{key:e.name,as:"a",href:e.href,class:(0,y.C_)([e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"]),"aria-current":e.current?"page":void 0},{default:(0,p.w5)((()=>[(0,p.Uk)((0,y.zw)(e.name),1)])),_:2},1032,["href","class","aria-current"])))),128))]),(0,p._)("div",Zr,[(0,p._)("div",Ur,[(0,p._)("div",Br,[(0,p._)("div",Er,(0,y.zw)(n.user.name),1),(0,p._)("div",Rr,(0,y.zw)(n.user.email),1)])]),(0,p._)("div",Ar,[(0,p.Wm)(h,{as:"a",href:"#",class:"block rounded-md px-3 py-2 text-base font-medium text-gray-400 hover:bg-gray-700 hover:text-white"},{default:(0,p.w5)((()=>[(0,p.Uk)(" Your Profile ")])),_:1}),(0,p.Wm)(h,{as:"a",href:"#",class:"block rounded-md px-3 py-2 text-base font-medium text-gray-400 hover:bg-gray-700 hover:text-white"},{default:(0,p.w5)((()=>[(0,p.Uk)(" Settings ")])),_:1}),(0,p.Wm)(h,{as:"a",onClick:n.logout,href:"#",class:"block rounded-md px-3 py-2 text-base font-medium text-gray-400 hover:bg-gray-700 hover:text-white"},{default:(0,p.w5)((()=>[(0,p.Uk)(" Log out ")])),_:1},8,["onClick"])])])])),_:1})])),_:1}),(0,p.Wm)(v)])}var Kr=s(6051),Jr=s(9507),Lr=s(7148),Hr={components:{Disclosure:Kr.pJ,DisclosureButton:Kr.lG,DisclosurePanel:Kr.V2,Menu:Jr.v2,MenuButton:Jr.j2,MenuItem:Jr.sN,MenuItems:Jr.sd,Bars3Icon:Lr.Z,XMarkIcon:wt.Z},data(){return{}},computed:{user(){return this.$store.state.user.data},navigation(){return this.user&&1==this.user.role_id?[{name:"Dashboard",href:"/dashboard",current:"/dashboard"==window.location.pathname},{name:"Reports",href:"/reports",current:"/reports"==window.location.pathname}]:[{name:"Dashboard",href:"#",current:!0}]}},methods:{logout(){this.$store.dispatch("logout").then((()=>{this.$router.push({name:"Login"})}))}}};const Vr=(0,ie.Z)(Hr,[["render",Yr]]);var Xr=Vr;const Qr={class:"flex min-h-full items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},Gr={class:"w-full max-w-md space-y-8"};function eo(e,t){const s=(0,p.up)("router-view");return(0,p.wg)(),(0,p.iD)("div",Qr,[(0,p._)("div",Gr,[(0,p.Wm)(s)])])}const to={},so=(0,ie.Z)(to,[["render",eo]]);var ro=so;const oo=[{path:"/",redirect:"dashboard",name:"Dashboard",meta:{requiresAuth:!0},component:Xr,children:[{path:"/dashboard",name:"Dashboard",component:$s},{path:"/reports",name:"Reports",component:dr}]},{path:"/auth",redirect:"login",name:"Auth",component:ro,meta:{isGuest:!0},children:[{path:"/login",name:"Login",component:Ir}]}],ao=(0,c.p7)({history:(0,c.PO)(),routes:oo});ao.beforeEach(((e,t,s)=>{e.meta.requiresAuth&&!u.state.user.token?s("/login"):u.state.user.token&&e.meta.isGuest?s("/dashboard"):s()}));var no=ao;function io(e,t){const s=(0,p.up)("router-view");return(0,p.wg)(),(0,p.j4)(s)}const lo={},uo=(0,ie.Z)(lo,[["render",io]]);var co=uo,po=s(4410),mo=s.n(po),ho=new(mo())("1bda30305934dddd6107",{cluster:"us2"}),go=ho.subscribe("chat");go.bind("message-sent",(function(e){e.user.id!=u.state.user.data.id&&u.commit("addMessage",e.message)})),(0,r.ri)(co).use(u).use(no).mount("#app");let fo=sessionStorage.getItem("user_data"),vo=sessionStorage.getItem("TOKEN");async function yo(){fo&&vo&&(u.commit("setUser",{data:{user:JSON.parse(fo),token:JSON.parse(vo)}}),await u.dispatch("getMessages"),window.addEventListener("newMessage",(e=>{console.log(e.detail),u.commit("addMessage",e.detail)})))}yo()}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,a){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],a=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&a||n>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(i=!1,a<n&&(n=a));if(i){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,n=r[0],i=r[1],l=r[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(l)var u=l(s)}for(t&&t(r);d<n.length;d++)a=n[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},r=self["webpackChunkinvr"]=self["webpackChunkinvr"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(9931)}));r=s.O(r)})();
//# sourceMappingURL=app.d4bffb9d.js.map